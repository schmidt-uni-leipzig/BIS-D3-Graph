<!DOCTYPE html>
<html lang="en" ng-app="basic">
<head>
    <meta charset="UTF-8">
    <title>Basic example</title>
    <link rel="stylesheet" href="../bower_components/font-awesome/css/font-awesome.min.css">
    <link rel="stylesheet" href="../src/d3.css">
</head>
<body ng-controller="BasicCtrl">
    <d3-graph data="data" api="api"></d3-graph>
    <div>
        <button ng-click="savePNG()">Save as PNG</button>
        <button ng-click="saveSVG()">Save as SVG</button>
        <button ng-click="savePDF()">Save as PDF</button>

        <p>
        <strong>Graph commands</strong>
    <ul>
        <li>Press c-Key to focus the graph</li>
        <li>Press i-Key to show the icon legend</li>
        <li>Press l-Key to show an additional legend</li>
        <li>Press t-Key to show title information</li>
        <li>Hover node to show details</li>
        <li>Double Click to highligh neigbours</li>
        <li>Shift + Click to select a node. Selected nodes can be pined.</li>
    </ul>
    </p>
    </div>
    <script src="../bower_components/FileSaver/FileSaver.min.js"></script>
    <script src="../bower_components/jspdf/dist/jspdf.min.js"></script>
    <script src="../bower_components/d3/d3.js"></script>
    <script src="../bower_components/angular/angular.js"></script>
    <script src="../src/d3GraphDirective.js"></script>
    <script>
        var app = angular.module('basic', ['d3graph']);

        app.controller('BasicCtrl', function($scope) {
            $scope.data = {
                nodes: [
                    {
                        id: 0,
                        name: "Node1",
                        color: "#fff",
                        type: '\uf0f6',
                        longText: "Ein ganz besonders langer Text",
                        group: 0,
                        phase: "Planung"
                    },
                    {
                        id: 1,
                        name: "Node2",
                        color: "#fff",
                        type: '\uf0f6',
                        longText: "Ein noch längerer Text",
                        group: 0
                    },
                    {
                        id: 2,
                        name: "Node3 long text example",
                        color: "#fff",
                        type: '\uf0f6',
                        longText: "Ein noch längerer Text Teil II",
                        group: 0
                    },
                    {
                        id: 3,
                        name: "Node4",
                        color: "#fff",
                        type: '\uf0f6',
                        longText: "Ein noch längerer Text Teil II",
                        group: 0
                    },
                    {
                        id: 4,
                        name: 'Node 5',
                        group:2
                    },
                    {
                        id: 5,
                        name: 'Node 6',
                        group:2
                    },
                    {
                        id: 6,
                        name: 'Node 7'
                    },
                    {
                        id: 7,
                        name: 'Node 8'
                    }
                ],
                edges: [
                    {
                        source: 0,
                        target: 1,
                        text: "Relates to",
                        color: "#777"
                    },
                    {
                        source: 0,
                        target: 2,
                        text: "Relates to",
                        color: "#777"
                    },
                    {
                        source: 6,
                        target: 5
                    },
                    {
                        source: 2,
                        target: 5
                    },
                    {
                        source: 3,
                        target: 4
                    },
                    {
                        source: 3,
                        target: 5
                    },
                    {
                        source: 4,
                        target: 5
                    },
                    {
                        source: 3,
                        target: 2
                    },
                    {
                        source: 0,
                        target: 7
                    },
                    {
                        source: 7,
                        target: 4
                    }

                ]
            };



            $scope.api = function(api) {
                $scope.savePNG = function() {
                    api.exportAsPNG('test');
                };
                $scope.saveSVG = function() {
                    api.exportAsSVG('test');
                };
                $scope.savePDF = function() {
                    api.exportAsPDF('test');
                }
            }
        });
    </script>
</body>
</html>